(()=>{"use strict";let t;async function e(){const e=await fetch("./data/FishEyeData.json");return t=await e.json(),t.photographers}class a{constructor(t,e){this.DOM=t,this.className=e.className,this.type=e.type,this.text=e.text,this.render()}render(){this.DOM.innerHTML+=`\n\t\t<button class="${this.className}" type="${this.type}">\n    \t${this.text}\n\t\t</button>\n\t\t\n\t\t`}}class n{constructor(t,e,a,n){this.DOM=t,this.tag=e,this.className=[a],n&&this.className.push(n),this.render()}render(){const t=document.createElement("button");this.className.forEach((e=>{t.classList.add(e)})),this.DOM.appendChild(t),t.innerHTML+=`#${this.tag}`,this.addDisabled(t)}addDisabled(t){1===this.className.length&&(t.disabled=!0)}}class s{constructor(t,e,a,n){this.DOM=t,this.tagsChecked=e,this.className=[a],n&&this.className.push(n),this.tagsValueArray=["portrait","art","fashion","architecture","travel","sports","animals","events"],this.render()}render(){this.DOM.innerHTML="";const t=document.createElement("header");if(this.DOM.appendChild(t),this.className.forEach((e=>{t.classList.add(e)})),t.innerHTML='\n\t\t\t<button class="logo" title="logo" alt="Fisheye Home Page" >\n\t\t\t\t<img src=" ./img/logo/logo.svg" alt="logo" onclick="goHome()">\n\t\t\t</button>\n\t\t\t<h1 class="lobbyH1">Nos photographes</h1>\n\t\t\t ',1===this.className.length){const e=document.createElement("nav");this.tagsValueArray.forEach((t=>{new n(e,t,"tags","tags-link")})),t.appendChild(e);const a=document.querySelectorAll(".tags-link");this.tagsChecked.forEach((t=>{a.forEach((e=>{e.innerHTML==t&&e.setAttribute("isChecked","true")}))}))}}}class i{constructor(t,e){this.DOM=t,this.articleClassName=e.articleClassName,this.btClassName=e.btClassName,this.imgLink="./img/PhotographersIDPhotos/"+e.portrait,this.name=e.name,this.location=e.city+", "+e.country,this.tagline=e.tagline,this.price=e.price+"€/jour",this.tags=e.tags,this.id=e.id,this.render()}render(){const t=document.createElement("article");t.className=this.articleClassName,t.id=this.id,this.DOM.appendChild(t),t.innerHTML+=`\n      <button class=${this.btClassName} id=${this.id} name="${this.name}"> \n        <div class="photographer-card-link-imgContainer">\n          <img src=${this.imgLink}  alt="" cover width="208px" height="208px"/>\n        </div>\n        <h2>\n          ${this.name}\n        </h2>\n      </button>\n\t\t\t<p class="location">\n        ${this.location}\n      </p>\n      <p class="tagline tagline_photographerPages">\n        ${this.tagline}\n      </p>\n      <p class="price">\n        ${this.price}\n      </p>\n    `;const e=document.createElement("nav");this.tags.forEach((t=>{new n(e,t,"tags")})),t.appendChild(e)}}class o{constructor(t,e){this.DOM=t,this.articleClassName=e.articleClassName,this.btClassName=e.btClassName,this.imgLink="./img/PhotographersIDPhotos/"+e.portrait,this.nom=e.name,this.location=e.city+", "+e.country,this.tagline=e.tagline,this.price=e.price+"€/jour",this.tags=e.tags,this.id=e.id,this.render()}render(){const t=document.createElement("article");t.className=this.articleClassName,this.DOM.appendChild(t),t.innerHTML=`\n\t\t\t\t\t\t<div class="photographer-card-link-imgContainer photographer-card-big-imgContainer">\n\t\t\t\t\t\t\t<img src="${this.imgLink}"  alt="" cover />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<h2>\n\t\t\t\t\t\t\t${this.nom}\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t<p class="location">\n\t\t\t\t\t\t\t${this.location}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p class="tagline">\n\t\t\t\t\t\t\t${this.tagline}\n\t\t\t\t\t\t</p>\n   `;const e=document.createElement("nav");this.tags.forEach((t=>{new n(e,t,"tags","tags-link")})),t.appendChild(e),this.insertBtContactDesktop(t),this.insertBtContactMobile(t)}insertBtContactDesktop(t){new a(t,{className:"btContact btContact-desktop",type:"button",text:"Contactez moi"})}insertBtContactMobile(t){new a(t,{className:"btContact btContact-mobile",type:"button",text:"Contactez moi"})}}const c=document.body;let r,h=[];const l={goToContentManage:function(){const t=document.querySelector(".goToContent");null!==t&&(window.scrollY>20?(t.setAttribute("visible","true"),t.addEventListener("click",(()=>{window.location.href="#main"}))):t.removeAttribute("visible"))},razLobby:function(){h=[],d.lobby()},tagsManage:function(){document.querySelectorAll(".tags-link").forEach((t=>{t.addEventListener("click",(()=>(t.hasAttribute("isChecked")?(t.removeAttribute("isChecked"),h.splice(h.indexOf(t.innerHTML),1)):(t.setAttribute("isChecked","true"),h.push(t.innerHTML)),d.lobby(),h)))}))},activeLink:function(t,e){t.addEventListener("click",e)},displayPhotographersCardsBig:async function(t){const a=await e(),n=document.createElement("main");n.id="photographer-main",document.body.appendChild(n),a.forEach((e=>{e.id==t&&new o(n,{...e,articleClassName:"photographer-card-big"})}))},activeManyLinks:function(t,e){t.forEach((t=>{t.addEventListener("click",e)}))},recupLinkId:function(t){t.forEach((t=>{t.addEventListener("click",(()=>(r=t.id,r)))}))},displayPhotographersCards:async function(t){const a=await e(),n=document.createElement("main");n.id="main",document.body.appendChild(n),a.forEach((e=>{(void 0===t||0===t.length||e.tags.some((e=>t.includes("#"+e))))&&new i(n,{...e,articleClassName:"photographer-card",btClassName:"photographer-card-link"})}));const s=document.querySelectorAll(".photographer-card-link");l.recupLinkId(s),l.activeManyLinks(s,d.photographer)}},d={lobby:async function(){new s(c,h,"header"),new a(c,{className:"goToContent",type:"button",text:"Passer au contenu"}),await l.displayPhotographersCards(h),l.tagsManage(),document.addEventListener("scroll",l.goToContentManage)},photographer:async function(){h=[],new s(c,h,"header","header-photographer"),await l.displayPhotographersCardsBig(r),l.tagsManage()},lightbox:function(){},formModal:function(){}};window.goHome=l.razLobby,d.lobby()})();
(()=>{"use strict";let t;async function e(){const e=await fetch("./data/FishEyeData.json");return t=await e.json(),t.photographers}class n{constructor(t,e,n){this.DOM=t,this.tag=e,this.className=n,this.render()}render(){const t=document.createElement("button");t.className="tags",null!==this.className&&t.classList.add(this.className),this.DOM.appendChild(t),t.innerHTML+=`#${this.tag}`}}class s{constructor(t,e){this.DOM=t,this.className=e,this.render()}render(){this.DOM.innerHTML="";const t=document.createElement("header");this.DOM.appendChild(t),null!==this.className&&t.classList.add(this.className),t.innerHTML='\n\t\t\t<button class="logo" title="logo" alt="Fisheye Home Page">\n\t\t\t\t<img src=" ./img/logo/logo.svg" alt="logo">\n\t\t\t</button>\n\t\t\t<button href="#" class="photographersLink">Nos photographes</button>\n\t\t\t ';const e=document.createElement("nav");new n(e,"portrait","tags-link"),new n(e,"art","tags-link"),new n(e,"fashion","tags-link"),new n(e,"architecture","tags-link"),new n(e,"travel","tags-link"),new n(e,"sports","tags-link"),new n(e,"animals","tags-link"),new n(e,"events","tags-link"),t.appendChild(e)}}class a{constructor(t,e){this.DOM=t,this.articleClassName=e.articleClassName,this.btClassName=e.btClassName,this.imgLink="./img/PhotographersIDPhotos/"+e.portrait,this.name=e.name,this.location=e.city+", "+e.country,this.tagline=e.tagline,this.price=e.price+"€/jour",this.tags=e.tags,this.id=e.id,this.render()}render(){const t=document.createElement("article");t.className=this.articleClassName,t.id=this.id,this.DOM.appendChild(t),t.innerHTML+=`\n      <button class=${this.btClassName} id=${this.id} name="${this.name}"> \n        <div class="photographer-card-link-imgContainer">\n          <img src=${this.imgLink}  alt="" cover width="208px" height="208px"/>\n        </div>\n        <h2>\n          ${this.name}\n        </h2>\n      </button>\n\n      <p class="location">\n        ${this.location}\n      </p>\n      <p class="tagline tagline_photographerPages">\n        ${this.tagline}\n      </p>\n      <p class="price">\n        ${this.price}\n      </p>\n    `;const e=document.createElement("nav");this.tags.forEach((t=>{new n(e,t,null)})),t.appendChild(e)}}class i{constructor(t,e){this.DOM=t,this.className=e.className,this.type=e.type,this.text=e.text,this.render()}render(){this.DOM.innerHTML+=`\n\t\t<button class="${this.className}" type="${this.type}">\n    \t${this.text}\n\t\t</button>\n\t\t\n\t\t`}}class o{constructor(t,e){this.DOM=t,this.articleClassName=e.articleClassName,this.btClassName=e.btClassName,this.imgLink="./img/PhotographersIDPhotos/"+e.portrait,this.nom=e.name,this.location=e.city+", "+e.country,this.tagline=e.tagline,this.price=e.price+"€/jour",this.tags=e.tags,this.id=e.id,this.render()}render(){const t=document.createElement("article");t.className=this.articleClassName,this.DOM.appendChild(t),t.innerHTML=`\n\t\t\t\t\t\t<div class="photographer-card-link-imgContainer photographer-card-big-imgContainer">\n\t\t\t\t\t\t\t<img src="${this.imgLink}"  alt="" cover />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<h2>\n\t\t\t\t\t\t\t${this.nom}\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t<p class="location">\n\t\t\t\t\t\t\t${this.location}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p class="tagline">\n\t\t\t\t\t\t\t${this.tagline}\n\t\t\t\t\t\t</p>\n   `;const e=document.createElement("nav");this.tags.forEach((t=>{new n(e,t,null)})),t.appendChild(e),this.insertBtContactDesktop(t),this.insertBtContactMobile(t)}insertBtContactDesktop(t){new i(t,{className:"btContact btContact-desktop",type:"button",text:"Contactez moi"})}insertBtContactMobile(t){new i(t,{className:"btContact btContact-mobile",type:"button",text:"Contactez moi"})}}const c=document.body;let r,l=[];const h={addTagsAttrIsChecked:function(){document.querySelectorAll(".tags-link").forEach((t=>{t.addEventListener("click",(()=>{t.hasAttribute("isChecked")?(t.removeAttribute("isChecked"),l.splice(l.indexOf(t.innerHTML),1)):(t.setAttribute("isChecked","true"),l.push(t.innerHTML));const e=document.querySelector("main");c.removeChild(e),this.displayPhotographersCards(l)}))}))},activeLink:function(t,e){t.addEventListener("click",e)},displayPhotographersCardsBig:async function(t){const n=await e(),s=document.createElement("main");s.id="photographer-main",document.body.appendChild(s),n.forEach((e=>{e.id==t&&new o(s,{...e,articleClassName:"photographer-card-big"})}))},activeManyLinks:function(t,e){t.forEach((t=>{t.addEventListener("click",e)}))},recupLinkId:function(t){t.forEach((t=>{t.addEventListener("click",(()=>(r=t.id,r)))}))},displayPhotographersCards:async function(t){const n=await e(),s=document.createElement("main");document.body.appendChild(s),n.forEach((e=>{(void 0===t||0===t.length||e.tags.some((e=>t.includes("#"+e))))&&new a(s,{...e,articleClassName:"photographer-card",btClassName:"photographer-card-link"})}));const i=document.querySelectorAll(".photographer-card-link");h.recupLinkId(i),h.activeManyLinks(i,d.photographer)}},d={lobby:async function(){new s(c,null),await h.displayPhotographersCards(),h.addTagsAttrIsChecked()},photographer:async function(){l=[],new s(c,"photographer"),h.displayPhotographersCardsBig(r);let t=document.querySelector(".logo");h.activeLink(t,d.lobby)},lightbox:function(){},formModal:function(){}};d.lobby()})();